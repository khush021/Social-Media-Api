{"version":3,"sources":["messages.js"],"names":["router","require","Router","Message","post","req","res","newMessage","savedMessage","regeneratorRuntime","async","_context","prev","next","body","awrap","save","sent","status","json","t0","stop","get","messages","_context2","conversationId","params","module","exports"],"mappings":"aAAA,IAAMA,OAASC,QAAQ,WAAWC,SAC5BC,QAAUF,QAAQ,qBAIxBD,OAAOI,KAAK,IAAK,SAAOC,EAAKC,GAAZ,IAAAC,EAAAC,EAAA,OAAAC,mBAAAC,MAAA,SAAAC,GAAA,OAAA,OAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EAAA,OACTN,EAAa,IAAIJ,QAAQE,EAAIS,MADpBH,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAAAJ,mBAAAM,MAAAR,EAAAS,QAAA,KAAA,EAAAR,EAAAG,EAAAM,KAAAX,EAAAY,OAAA,KAAAC,KAAAX,GAAAG,EAAAE,KAAA,GAAA,MAAA,KAAA,EAAAF,EAAAC,KAAA,EAAAD,EAAAS,GAAAT,EAAA,MAAA,GAAAL,EAAAY,OAAA,KAAAC,KAAAR,EAAAS,IAAA,KAAA,GAAA,IAAA,MAAA,OAAAT,EAAAU,SAAA,KAAA,KAAA,CAAA,CAAA,EAAA,OAAArB,OAAAsB,IAAA,mBAAA,SAAAjB,EAAAC,GAAA,IAAAiB,EAAA,OAAAd,mBAAAC,MAAA,SAAAc,GAAA,OAAA,OAAAA,EAAAZ,KAAAY,EAAAX,MAAA,KAAA,EAAA,OAAAW,EAAAZ,KAAA,EAAAY,EAAAX,KAAA,EAAAJ,mBAAAM,MAKGI,QAAKX,KAAAA,CALRiB,eAAApB,EAAAqB,OAAAD,kBAAA,KAAA,EAKbnB,EALakB,EAAAP,KAkBbX,EAAIY,OAAO,KAAKC,KAAKI,GAlBRC,EAAAX,KAAA,GAAA,MAAA,KAAA,EAAAW,EAAAZ,KAAA,EAAAY,EAAAJ,GAAAI,EAAA,MAAA,GAAAlB,EAAAY,OAAA,KAAAC,KAAAK,EAAAJ,IAAA,KAAA,GAAA,IAAA,MAAA,OAAAI,EAAAH,SAAA,KAAA,KAAA,CAAA,CAAA,EAAA,OAAAM,OAAAC,QAAA5B","file":"messages.min.js","sourcesContent":["const router = require(\"express\").Router();\r\nconst Message = require(\"../models/Message\");\r\n\r\n//add a message\r\n\r\nrouter.post(\"/\", async (req, res) => {\r\n  const newMessage = new Message(req.body);\r\n\r\n  try {\r\n    const savedMessage = await newMessage.save();\r\n    res.status(200).json(savedMessage);\r\n  } catch (err) {\r\n    res.status(500).json(err);\r\n  }\r\n});\r\n\r\n//get a message\r\n\r\nrouter.get(\"/:conversationId\", async (req, res) => {\r\n  try {\r\n    const messages = await Message.find({\r\n      conversationId: req.params.conversationId,\r\n    });\r\n    res.status(200).json(messages);\r\n  } catch (err) {\r\n    res.status(500).json(err);\r\n  }\r\n});\r\n\r\nmodule.exports = router;"]}